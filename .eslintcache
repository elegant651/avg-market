[{"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/web3/init.js":"1","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/CreateCoupon.js":"2","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/ViewCoupon.js":"3","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/SuccessModal.js":"4","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/web3/precision.js":"5","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/view_coupon/BuyTicket.js":"6","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/web3/config.js":"7","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/history.js":"8","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/Faucet.js":"9","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/view_coupon/Claim.js":"10","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/Header.js":"11","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/Main.js":"12","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/view_coupon/DisplayTickets.js":"13","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/App.js":"14","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/FlashSwap.js":"15","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/Loading.js":"16"},{"size":676,"mtime":1611930943242,"results":"17","hashOfConfig":"18"},{"size":10999,"mtime":1612526960345,"results":"19","hashOfConfig":"18"},{"size":14433,"mtime":1612527422915,"results":"20","hashOfConfig":"18"},{"size":643,"mtime":1611930070285,"results":"21","hashOfConfig":"18"},{"size":351,"mtime":1611930957299,"results":"22","hashOfConfig":"18"},{"size":4883,"mtime":1612447113897,"results":"23","hashOfConfig":"18"},{"size":350,"mtime":1612447032885,"results":"24","hashOfConfig":"18"},{"size":93,"mtime":1611930070288,"results":"25","hashOfConfig":"18"},{"size":4451,"mtime":1612453940918,"results":"26","hashOfConfig":"18"},{"size":3874,"mtime":1612447129807,"results":"27","hashOfConfig":"18"},{"size":1432,"mtime":1612527623637,"results":"28","hashOfConfig":"18"},{"size":4260,"mtime":1612454047391,"results":"29","hashOfConfig":"18"},{"size":1031,"mtime":1612527364344,"results":"30","hashOfConfig":"18"},{"size":1161,"mtime":1612527621795,"results":"31","hashOfConfig":"18"},{"size":4084,"mtime":1612527895615,"results":"32","hashOfConfig":"18"},{"size":382,"mtime":1611930070281,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1ht5dzr",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"39"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/web3/init.js",[],["69","70"],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/CreateCoupon.js",[],["71","72"],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/ViewCoupon.js",["73"],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/SuccessModal.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/web3/precision.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/view_coupon/BuyTicket.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/web3/config.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/history.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/Faucet.js",["74"],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/view_coupon/Claim.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/Header.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/Main.js",["75"],"import React, { useEffect, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { Card, CardDeck, Image } from \"react-bootstrap\";\nimport { time } from \"../web3/time\";\nimport Loading from \"./Loading\";\n\nexport default function Main() {\n  const dai = \"0xff795577d9ac8bd7d90ee22b6c1703490b6512fd\"\n\n  const [listCoupons, setCoupons] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [noMetamsk, setNoMetamask] = useState(false);\n\n  const createSubArray = (coupons) => {\n    let chunks = [];\n\n    while (coupons.length > 4) {\n      chunks.push(coupons.splice(0, 4));\n    }\n\n    if (coupons.length > 0) {\n      chunks.push(coupons);\n    }\n\n    setCoupons(chunks);\n    setLoading(false);\n  }\n\n  const getCoupons = async () => {\n    const allCoupons = [];\n    const couponCount = await window.couponFactory\n      .methods\n      .totalCoupons()\n      .call();\n\n    if (Number(couponCount) === 0) {\n      setLoading(false);\n    }\n\n    for (let i = couponCount - 1; i >= 0; i--) {\n      const distCoupon = await window.couponFactory\n        .methods\n        .allCoupons(i)\n        .call();\n\n      allCoupons.push(distCoupon);\n\n      if (i === 0) {\n        createSubArray(allCoupons);\n      }\n    }\n  }\n\n  const isMetamaskInstalled = () => {\n    return (typeof window.ethereum !== 'undefined');\n  }\n\n  useEffect(() => {\n    if (!isMetamaskInstalled()) {\n        setLoading(false);\n        setNoMetamask(true);\n    } else if (listCoupons.length === 0) {\n        getCoupons();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  function DisplayCard({ coupon, count }) {\n    return (\n      <Card key={count} className=\"display-coupon-card\" >\n        <Link\n          key={count}\n          style={{ textDecoration: \"none\", color: \"black\" }}\n          to={`/view/${coupon.couponAddress}/${coupon.couponTokenSymbol}/DAI`}\n        >\n          <Card.Header style={{ marginBottom: \"5px\" }}>\n            <Image src={coupon.baseTokenURI} width=\"50px\"></Image>\n            <span> {coupon.couponTokenName} Coupon</span>\n          </Card.Header>\n\n          <Card.Body>\n            <div style={{ marginBottom: \"10px\" }}>\n              Ticket Price: {coupon.ticketPrice}\n              <span> {\"DAI\"}\n              </span>\n            </div>\n            <div style={{ marginBottom: \"10px\" }}>\n              Dist Interval: Every {coupon.distInterval} minutes\n            </div>\n            <div style={{ marginBottom: \"5px\" }}>\n              {time.currentUnixTime() < (\n                Number(coupon.couponStartTimestamp) +\n                Number(coupon.ticketBuyDuration) * 60\n              ) ?\n                <div>\n                  <span>Close In: </span>\n                  <span className=\"info-message\">\n                    {time.getRemaingTime(\n                      Number(coupon.couponStartTimestamp) +\n                      Number(coupon.ticketBuyDuration) * 60\n                    )}\n                  </span>\n                </div>\n                :\n                <span className=\"warning-message\">\n                  Sold out\n                </span>\n              }\n            </div>\n          </Card.Body>\n        </Link>\n      </Card>\n    );\n  }\n\n  if (loading) {\n    return <Loading />\n  };\n\n  return (\n    <div>\n      {!noMetamsk ?\n        (listCoupons.map((element, key) => (\n          element.length === 4 ?\n            <CardDeck key={key} style={{ margin: \"2%\" }}>\n              {element.map((coupon, k) => (\n                <DisplayCard key={k} coupon={coupon} count={k} />\n              ))}\n            </CardDeck>\n            :\n            <CardDeck key={key} style={{ margin: \"2%\" }}>\n              {element.map((coupon, k) => (\n                <DisplayCard key={k} coupon={coupon} count={k} />\n              ))}\n\n              {[...Array(4 - element.length)].map((x, i) =>\n                <Card\n                  key={element.length + i + 1}\n                  className=\"hidden-card\"\n                ></Card>\n              )}\n            </CardDeck>\n          )))\n        : <div\n            className=\"alert-message\"\n            style={{ marginTop: \"20%\", fontSize: \"x-large\" }}\n          >\n            You don't have metamask. Please install first !!\n        </div>\n      }\n    </div >\n  );\n\n}\n\n","/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/view_coupon/DisplayTickets.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/App.js",[],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/FlashSwap.js",["76"],"/Users/willpark/Desktop/hackathon/marketmake-2021/avg-market/src/components/Loading.js",[],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"77","replacedBy":"81"},{"ruleId":"79","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":25,"column":36,"nodeType":"85","messageId":"86","endLine":25,"endColumn":44},{"ruleId":"87","severity":1,"message":"88","line":85,"column":21,"nodeType":"89","endLine":85,"endColumn":36},{"ruleId":"83","severity":1,"message":"90","line":8,"column":9,"nodeType":"85","messageId":"86","endLine":8,"endColumn":12},{"ruleId":"83","severity":1,"message":"91","line":47,"column":9,"nodeType":"85","messageId":"86","endLine":47,"endColumn":30},"no-native-reassign",["92"],"no-negated-in-lhs",["93"],["92"],["93"],"no-unused-vars","'buyToken' is assigned a value but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","'dai' is assigned a value but never used.","'checkIsAlreadyClaimed' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]